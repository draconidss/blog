<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Docker学习笔记 | Draco&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <script src="https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
    <link rel="alternate" type="application/atom+xml" href="https://vuepress-theme-hope-demo.mrhope.site/atom.xml" title="Draco&#39;s Blog Atom Feed">
    <link rel="alternate" type="application/json" href="https://vuepress-theme-hope-demo.mrhope.site/feed.json" title="Draco&#39;s Blog JSON Feed">
    <link rel="alternate" type="application/rss+xml" href="https://vuepress-theme-hope-demo.mrhope.site/rss.xml" title="Draco&#39;s Blog RSS Feed">
    <link rel="icon" href="/favicon.ico">
    <link rel="icon" href="/assets/icon/chrome-mask-512.png" type="image/png" sizes="512x512">
    <link rel="icon" href="/assets/icon/chrome-mask-192.png" type="image/png" sizes="192x192">
    <link rel="icon" href="/assets/icon/chrome-512.png" type="image/png" sizes="512x512">
    <link rel="icon" href="/assets/icon/chrome-192.png" type="image/png" sizes="192x192">
    <link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials">
    <link rel="apple-touch-icon" href="/assets/icon/apple-icon-152.png">
    <meta name="description" content="Docker学习笔记">
    <meta property="og:url" content="/docker/Docker-Note.html">
    <meta property="og:site_name" content="Draco&#39;s Blog">
    <meta property="og:title" content="Docker学习笔记">
    <meta property="og:description" content="Docker学习笔记">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta property="og:locale:alternate" content="zh-CN">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:alt" content="Draco&#39;s Blog">
    <meta property="article:author" content="Draco">
    <meta property="article:tag" content="Docker">
    <meta property="article:published_time" content="2021-01-28T23:33:05.000Z">
    <meta name="theme-color" content="#46bd87">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/assets/icon/ms-icon-144.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    
    <link rel="preload" href="/assets/css/0.styles.82fe602c.css" as="style"><link rel="preload" href="/assets/js/app.b2189200.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Layout.3a19796f.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.17f5562a.js" as="script"><link rel="preload" href="/assets/js/page-Docker学习笔记.bc1b1e64.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.30f611ca.js" as="script"><link rel="prefetch" href="/assets/js/124.b8f6e2ce.js"><link rel="prefetch" href="/assets/js/125.9f9edf24.js"><link rel="prefetch" href="/assets/js/126.acdb9890.js"><link rel="prefetch" href="/assets/js/127.eec68cb2.js"><link rel="prefetch" href="/assets/js/128.730ce721.js"><link rel="prefetch" href="/assets/js/129.30313ed2.js"><link rel="prefetch" href="/assets/js/layout-Blog.8470e550.js"><link rel="prefetch" href="/assets/js/layout-Layout.985ed51b.js"><link rel="prefetch" href="/assets/js/layout-NotFound.625f2d8c.js"><link rel="prefetch" href="/assets/js/layout-Slide.62c63992.js"><link rel="prefetch" href="/assets/js/page-About.4371c15b.js"><link rel="prefetch" href="/assets/js/page-BlogHome.58307ebf.js"><link rel="prefetch" href="/assets/js/page-Componentdisabled.0c9f2035.js"><link rel="prefetch" href="/assets/js/page-DockerInstallsoftware.605ce06b.js"><link rel="prefetch" href="/assets/js/page-Dockerdeployment.dc5d1518.js"><link rel="prefetch" href="/assets/js/page-Dubbo笔记.3a390f99.js"><link rel="prefetch" href="/assets/js/page-EasyExcel导入导出Excel.edfcb1ad.js"><link rel="prefetch" href="/assets/js/page-ElasticSearch笔记.2c116ff9.js"><link rel="prefetch" href="/assets/js/page-ElasticSearch面试.6bdd030e.js"><link rel="prefetch" href="/assets/js/page-Encryptionarticle.dbfe6eb5.js"><link rel="prefetch" href="/assets/js/page-Git笔记.e9eef5a6.js"><link rel="prefetch" href="/assets/js/page-Golang-介绍和使用.2926b34a.js"><link rel="prefetch" href="/assets/js/page-Golang-语法基础.845f129c.js"><link rel="prefetch" href="/assets/js/page-GoogleCloudSpanner.a8c3559e.js"><link rel="prefetch" href="/assets/js/page-Guides.fb09748d.js"><link rel="prefetch" href="/assets/js/page-Hadoop伪分布式配置.fd53e6bc.js"><link rel="prefetch" href="/assets/js/page-HttpServletrequest与HttpServletResponse.c7fcd32c.js"><link rel="prefetch" href="/assets/js/page-IDEA初始化SpringBoot项目+逆向工程+配置.b23d7489.js"><link rel="prefetch" href="/assets/js/page-JVM-类加载子系统.013f6dab.js"><link rel="prefetch" href="/assets/js/page-JVM-运行时数据区.8f24be74.js"><link rel="prefetch" href="/assets/js/page-JVM.0faf496d.js"><link rel="prefetch" href="/assets/js/page-JWT认证原理(更新中).afef6b3d.js"><link rel="prefetch" href="/assets/js/page-Java-IO.786f9a5c.js"><link rel="prefetch" href="/assets/js/page-Java-String.633df97a.js"><link rel="prefetch" href="/assets/js/page-Java-UML类图.07a8bd3d.js"><link rel="prefetch" href="/assets/js/page-Java-基础知识笔记.435d8dd6.js"><link rel="prefetch" href="/assets/js/page-Java-基础面试题.7eada66f.js"><link rel="prefetch" href="/assets/js/page-Java-多线程并发.b689213c.js"><link rel="prefetch" href="/assets/js/page-Java-常用方法汇总.d5098085.js"><link rel="prefetch" href="/assets/js/page-Java-新特性.2624cd43.js"><link rel="prefetch" href="/assets/js/page-Java-注解和反射.624a0952.js"><link rel="prefetch" href="/assets/js/page-Java-设计模式.de91006d.js"><link rel="prefetch" href="/assets/js/page-Java-集合容器.4000d595.js"><link rel="prefetch" href="/assets/js/page-JavaScript面试题.2f460c75.js"><link rel="prefetch" href="/assets/js/page-JavaSwing-超市系统.05cc54dc.js"><link rel="prefetch" href="/assets/js/page-Javaweb大学活动管理系统.16d669cc.js"><link rel="prefetch" href="/assets/js/page-Java多线程-1.cbdb3d2e.js"><link rel="prefetch" href="/assets/js/page-Java多线程-2.ac8543a4.js"><link rel="prefetch" href="/assets/js/page-Java多线程-JUC使用.4d2ea292.js"><link rel="prefetch" href="/assets/js/page-Java多线程-关键字锁.025e877f.js"><link rel="prefetch" href="/assets/js/page-Java学习目录.1b1cc8d8.js"><link rel="prefetch" href="/assets/js/page-Java面试整理.9af3b7ec.js"><link rel="prefetch" href="/assets/js/page-Linux常用命令.a83e1798.js"><link rel="prefetch" href="/assets/js/page-Linux技巧.0a14d210.js"><link rel="prefetch" href="/assets/js/page-MarkdownEnhance.c2230fd8.js"><link rel="prefetch" href="/assets/js/page-Markdown增强.aadc5012.js"><link rel="prefetch" href="/assets/js/page-Maven笔记.988fe6cb.js"><link rel="prefetch" href="/assets/js/page-MyProject.bfc4b818.js"><link rel="prefetch" href="/assets/js/page-Mybatis-Plus基础笔记.95927f9d.js"><link rel="prefetch" href="/assets/js/page-Mybatis基础笔记.fefbe7d1.js"><link rel="prefetch" href="/assets/js/page-Mybatis语法笔记.39523c46.js"><link rel="prefetch" href="/assets/js/page-Mybatis逆向工程Example类使用.0901040b.js"><link rel="prefetch" href="/assets/js/page-Mysql理论学习笔记.8514f4bc.js"><link rel="prefetch" href="/assets/js/page-Nginx-动静分离.38302c8e.js"><link rel="prefetch" href="/assets/js/page-Nginx-反向代理.8e7c770e.js"><link rel="prefetch" href="/assets/js/page-Nginx-负载均衡.b6dd8efa.js"><link rel="prefetch" href="/assets/js/page-Nginx基础笔记和安装配置.fc6705ff.js"><link rel="prefetch" href="/assets/js/page-Nginx学习目录.671ad30b.js"><link rel="prefetch" href="/assets/js/page-Promise异步调用.b69b7b64.js"><link rel="prefetch" href="/assets/js/page-RabbitMQ.4bbcbb43.js"><link rel="prefetch" href="/assets/js/page-RabbitMQ面试题.efb0206f.js"><link rel="prefetch" href="/assets/js/page-Redis应用场景.0e77ea4d.js"><link rel="prefetch" href="/assets/js/page-Redis理论学习笔记.8b65265b.js"><link rel="prefetch" href="/assets/js/page-Redis部署与基本使用.92e2bd7c.js"><link rel="prefetch" href="/assets/js/page-Redis集群和哨兵.89bc86fe.js"><link rel="prefetch" href="/assets/js/page-SQL学习笔记.6e96c84a.js"><link rel="prefetch" href="/assets/js/page-SSH.394d5f12.js"><link rel="prefetch" href="/assets/js/page-Slidepage.6780f6af.js"><link rel="prefetch" href="/assets/js/page-Spring-RestTemplate.294032b4.js"><link rel="prefetch" href="/assets/js/page-SpringBootVue项目搭建(持续更新).04012e1a.js"><link rel="prefetch" href="/assets/js/page-SpringSecurity.fe6d2f41.js"><link rel="prefetch" href="/assets/js/page-Spring基础笔记.ad2b726e.js"><link rel="prefetch" href="/assets/js/page-Spring注解.fbe7b2cd.js"><link rel="prefetch" href="/assets/js/page-Spring错误坑记录.3c8e7eca.js"><link rel="prefetch" href="/assets/js/page-Spring错误笔记.ab452e07.js"><link rel="prefetch" href="/assets/js/page-Spring面试题.a6027529.js"><link rel="prefetch" href="/assets/js/page-Swagger使用.649bc53b.js"><link rel="prefetch" href="/assets/js/page-pageconfig.df01cfad.js"><link rel="prefetch" href="/assets/js/page-主要功能与配置演示.cb598a88.js"><link rel="prefetch" href="/assets/js/page-修改Host以访问Github.cc0d87cb.js"><link rel="prefetch" href="/assets/js/page-前端学习目录.f9ae2cac.js"><link rel="prefetch" href="/assets/js/page-字节测开面经.aa250348.js"><link rel="prefetch" href="/assets/js/page-学习路线.700dd883.js"><link rel="prefetch" href="/assets/js/page-实验室出入管理小程序.e8b63960.js"><link rel="prefetch" href="/assets/js/page-密码加密的文章.c77eff1e.js"><link rel="prefetch" href="/assets/js/page-幻灯片页.608b996d.js"><link rel="prefetch" href="/assets/js/page-操作系统.99988354.js"><link rel="prefetch" href="/assets/js/page-数据库学习目录.7723429d.js"><link rel="prefetch" href="/assets/js/page-数据结构.95181c44.js"><link rel="prefetch" href="/assets/js/page-数据结构算法学习目录.d6a36698.js"><link rel="prefetch" href="/assets/js/page-数据结构算法题目合集.6b596359.js"><link rel="prefetch" href="/assets/js/page-服务器上部署SpringBoot.456fb9bb.js"><link rel="prefetch" href="/assets/js/page-概述参考.2e44ebc0.js"><link rel="prefetch" href="/assets/js/page-算法.57bd63e9.js"><link rel="prefetch" href="/assets/js/page-组件禁用.e3432948.js"><link rel="prefetch" href="/assets/js/page-腾讯云学习笔记.51fd3498.js"><link rel="prefetch" href="/assets/js/page-自定义布局.6f7cfb97.js"><link rel="prefetch" href="/assets/js/page-计算机知识.636dcdc2.js"><link rel="prefetch" href="/assets/js/page-计算机网络.72cdf05d.js"><link rel="prefetch" href="/assets/js/page-认识SpringCloud.b92a5a70.js"><link rel="prefetch" href="/assets/js/page-设计模式七大原则.d2acc6e1.js"><link rel="prefetch" href="/assets/js/page-设计模式之J2EE设计模式.d04004d5.js"><link rel="prefetch" href="/assets/js/page-设计模式之创建型设计模式.cdfc10d2.js"><link rel="prefetch" href="/assets/js/page-设计模式之结构型设计模式.300c0684.js"><link rel="prefetch" href="/assets/js/page-设计模式之行为型设计模式.cf888234.js"><link rel="prefetch" href="/assets/js/page-面试大纲.fed2a6b2.js"><link rel="prefetch" href="/assets/js/page-音频批量识别平台.2bbaf5a9.js"><link rel="prefetch" href="/assets/js/page-页面配置.06e68e6d.js"><link rel="prefetch" href="/assets/js/page-项目主页.cdf652ba.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.f3490175.js"><link rel="prefetch" href="/assets/js/vendors~mermaid.563b7dcd.js"><link rel="prefetch" href="/assets/js/vendors~photo-swipe.35294e26.js"><link rel="prefetch" href="/assets/js/vendors~reveal.fa6e99f3.js"><link rel="prefetch" href="/assets/js/vendors~waline.c009b8ee.js">
    <link rel="stylesheet" href="/assets/css/0.styles.82fe602c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-sidebar has-anchor"><header class="navbar"><!----> <div class="content__navbar-start"></div> <button title="Sidebar Button" class="sidebar-button"><span class="icon"></span></button> <a href="/" class="home-link router-link-active"><img src="https://blog-1300186248.cos.ap-shanghai.myqcloud.com/avatar.png" alt="Draco's Blog" class="logo"> <!----> <span class="site-name can-hide">Draco's Blog</span></a> <!----> <div class="content__navbar-center"></div> <div class="links"><button tabindex="-1" aria-hidden="true" class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">Theme Color:</label> <li><span class="default-theme"></span></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">Theme Mode:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/category/" class="nav-link"><i class="iconfont icon-note"></i>
  Category
</a></div><div class="nav-item"><a href="/project/" class="nav-link"><i class="iconfont icon-note"></i>
  My Project
</a></div><div class="nav-item"><a href="/guide/" class="nav-link"><i class="iconfont icon-creative"></i>
  Guide
</a></div><div class="nav-item"><a href="/about/" class="nav-link"><i class="iconfont icon-info"></i>
  About
</a></div></nav> <div class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" style="width:1rem;height:1rem;vertical-align:middle;margin-left:1rem;"><path d="M639.981 344.075c14.805 44.45 34.542 79.023 69.084 113.596 29.603-29.634 49.34-69.146 64.145-113.596H639.981zM314.33 591.024h128.29l-64.145-172.865-64.145 172.865z" fill="currentColor"></path> <path d="M807.746 116.882H215.643c-54.274 0-98.681 44.45-98.681 98.78v592.677c0 54.329 44.407 98.78 98.68 98.78h592.104c54.273 0 98.681-44.451 98.681-98.78V215.66c0-54.329-39.475-98.78-98.68-98.78zM565.971 754.01c-9.866 9.878-19.738 9.878-29.603 9.878-4.94 0-14.805 0-19.738-4.939-4.939-4.939-9.872 0-9.872-4.939s-4.932-9.878-9.865-19.756c-4.94-9.878-4.94-14.817-9.872-24.695L467.29 655.23H294.592l-19.737 54.33c-9.866 19.755-14.805 34.572-19.738 44.45-4.939 9.878-14.804 9.878-29.603 9.878-9.871 0-19.737-4.939-29.609-9.878-9.865-9.878-14.798-14.817-14.798-24.695 0-4.939 0-9.878 4.933-19.756 4.939-9.878 4.939-14.817 9.865-24.695l108.553-276.583c4.939-9.878 4.939-19.756 9.872-29.633 4.932-9.878 9.865-19.756 14.798-24.695 4.939-4.94 9.872-14.817 19.737-19.756 9.872-4.94 19.738-4.94 29.61-4.94 9.865 0 19.73 0 29.603 4.94 9.865 4.939 14.804 9.878 19.737 19.756 4.933 4.939 9.866 14.817 14.798 24.695 4.94 9.877 9.872 19.755 14.805 34.572l108.553 271.644c9.865 19.756 14.804 34.573 14.804 44.451-4.939 4.94-9.872 14.817-14.804 24.695zm271.378-192.62c-54.273-19.756-93.748-44.451-128.29-74.085-34.536 34.573-78.943 59.268-133.223 74.085l-14.798-24.695c54.273-14.817 98.68-34.573 133.223-69.146-34.542-34.573-64.145-79.024-74.017-128.413h-49.34V319.38h133.228c-9.877-14.817-19.743-34.573-29.609-49.39l14.799-4.94c9.871 14.818 24.676 34.574 34.542 54.33h123.35v24.695h-49.34c-14.798 49.39-39.468 93.84-69.077 123.474 34.541 29.634 74.01 54.329 128.29 69.146l-19.738 24.695z" fill="currentColor"></path></svg> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/docker/Docker-Note/" aria-current="page" class="nav-link router-link-exact-active router-link-active active"><!---->
  English
</a></li><li class="dropdown-item"><a href="/zh/" class="nav-link"><!---->
  简体中文
</a></li></ul></div></div></div> <a rel="noopener noreferrer" href="https://github.com/LifeAlsoIsGG" target="_blank" class="repo-link can-hide">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <!----> <div class="content__navbar-end"></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><div vocab="https://schema.org/" typeof="Person" class="blogger-info mobile"><div data-balloon-pos="down" role="navigation" class="blogger hasIntro"><img property="image" alt="Blogger Avatar" src="https://blog-1300186248.cos.ap-shanghai.myqcloud.com/avatar.png" class="avatar round"> <div property="name" class="name">Draco</div> <meta property="url" content="/about/"></div> <div class="num-wrapper"><div><div class="num">110</div> <div>Articles</div></div> <div><div class="num">34</div> <div>Category</div></div> <div><div class="num">58</div> <div>Tags</div></div> <div><div class="num">110</div> <div>Timeline</div></div></div> <div class="media-links-wrapper"><a href="https://github.com/LifeAlsoIsGG" rel="noopener noreferrer" target="_blank" aria-label="Github" data-balloon-pos="up" class="media-link"><span class="sr-only">Github</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-github"><circle cx="512" cy="512" r="512" fill="#171515"></circle> <path d="M509.423 146.442c-200.317 0-362.756 162.42-362.756 362.8 0 160.266 103.936 296.24 248.109 344.217 18.139 3.327 24.76-7.872 24.76-17.486 0-8.613-.313-31.427-.49-61.702-100.912 21.923-122.205-48.63-122.205-48.63-16.495-41.91-40.28-53.067-40.28-53.067-32.937-22.51 2.492-22.053 2.492-22.053 36.407 2.566 55.568 37.386 55.568 37.386 32.362 55.438 84.907 39.43 105.58 30.143 3.296-23.444 12.667-39.43 23.032-48.498-80.557-9.156-165.246-40.28-165.246-179.297 0-39.604 14.135-71.988 37.342-97.348-3.731-9.178-16.18-46.063 3.556-96.009 0 0 30.46-9.754 99.76 37.19 28.937-8.048 59.97-12.071 90.823-12.211 30.807.14 61.843 4.165 90.822 12.21 69.26-46.944 99.663-37.189 99.663-37.189 19.792 49.946 7.34 86.831 3.61 96.01 23.25 25.359 37.29 57.742 37.29 97.347 0 139.366-84.82 170.033-165.637 179.013 13.026 11.2 24.628 33.342 24.628 67.182 0 48.498-.445 87.627-.445 99.521 0 9.702 6.535 20.988 24.945 17.444 144.03-48.067 247.881-183.95 247.881-344.175 0-200.378-162.442-362.798-362.802-362.798z" fill="#FFF"></path></svg></a><a href="https://twitter.com/LifeAlsoIsGG" rel="noopener noreferrer" target="_blank" aria-label="Twitter" data-balloon-pos="up" class="media-link"><span class="sr-only">Twitter</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-twitter"><circle cx="512" cy="512" r="512" fill="#5EAADE"></circle> <path d="M749.737 364.631c-17.594 7.805-36.513 13.088-56.371 15.459 20.269-12.148 35.836-31.387 43.156-54.312A196.233 196.233 0 0 1 674.2 349.6c-17.894-19.083-43.406-30.997-71.636-30.997-54.2 0-98.137 43.944-98.137 98.157 0 7.695.861 15.19 2.544 22.373-81.57-4.092-153.876-43.174-202.284-102.558-8.443 14.498-13.285 31.356-13.285 49.348 0 34.05 17.326 64.096 43.656 81.697a97.69 97.69 0 0 1-44.447-12.277c-.01.41-.01.82-.01 1.24 0 47.558 33.822 87.23 78.72 96.249a98.285 98.285 0 0 1-25.852 3.448 97.491 97.491 0 0 1-18.465-1.768c12.483 39.002 48.725 67.38 91.672 68.17-33.582 26.334-75.897 42.024-121.884 42.024-7.924 0-15.736-.46-23.408-1.37 43.434 27.844 95.014 44.104 150.443 44.104 180.505 0 279.221-149.576 279.221-279.294 0-4.263-.09-8.494-.278-12.708 19.178-13.835 35.813-31.115 48.967-50.807z" fill="#FFF"></path></svg></a><a href="http://localhost:8083/blog-vuepress/tencent:/AddContact/?fromId=50&amp;fromSubId=1&amp;subcmd=all&amp;uin=1138312802.html" rel="noopener noreferrer" target="_blank" aria-label="QQ" data-balloon-pos="up" class="media-link"><span class="sr-only">QQ</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-qq"><circle cx="512" cy="512" r="512" fill="#5EAADE"></circle> <path d="M729.46 627.3c-3.157-39.628-24.045-83.747-32.624-105.91l-22.084-57.047c-.702-23.73 6.312-78.322-30.511-146.61s-110.82-74.446-124.497-75.147c-13.677-.701-99.248-1.403-141.331 72.945-42.084 74.347-30.745 148.812-30.745 148.812l-23.523 57.478c-.001.002-10.962 26.223-20.43 58.135-9.469 31.914-18.938 82.064-9.469 92.234 9.47 10.17 43.837-46.643 46.993-51.903 0 0 2.456 27.18 8.943 41.383l.81 1.776.33.723.38.826.3.652.444.96.203.436a281.465 281.465 0 0 0 1.917 4.025l.189.386c.231.473.468.953.711 1.442l.146.292c6.886 13.807 18.61 33.823 37.443 50.42l.018.016-1.184.387c-10.667 3.516-31.694 11.21-40.625 19.82-1.717 1.655-2.987 3.344-3.65 5.045-5.376 13.794 4.208 15.43 20.575 16.366 16.366.934 94.923 3.04 132.564-2.221.407-.056.787-.114 1.17-.171 2.711.094 5.324.142 7.83.16l.151.002c.836.005 1.663.008 2.475.008.496 0 1.015-.002 1.542-.006l.21-.001a222.593 222.593 0 0 0 5.462-.107c.26.038.508.076.778.114 37.642 5.26 116.198 3.156 132.564 2.22 16.366-.934 25.951-2.571 20.574-16.365-4.302-11.037-34.175-21.62-45.956-25.413a141.388 141.388 0 0 0 7.958-7.645l.237-.245a142.494 142.494 0 0 0 2.53-2.702c42.435-46.643 38.928-76.101 40.682-92.935 0 0 35.775 51.553 43.488 53.306 7.713 1.754 10.169-6.31 7.012-45.94z" fill="#FFF"></path></svg></a></div></div> <hr> <!----> <div class="content__sidebar-top"></div> <nav class="sidebar-nav-links"><div class="nav-item"><a href="/category/" class="nav-link"><i class="iconfont icon-note"></i>
  Category
</a></div><div class="nav-item"><a href="/project/" class="nav-link"><i class="iconfont icon-note"></i>
  My Project
</a></div><div class="nav-item"><a href="/guide/" class="nav-link"><i class="iconfont icon-creative"></i>
  Guide
</a></div><div class="nav-item"><a href="/about/" class="nav-link"><i class="iconfont icon-info"></i>
  About
</a></div> <a rel="noopener noreferrer" href="https://github.com/LifeAlsoIsGG" target="_blank" class="repo-link">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <!----> <div class="content__sidebar-center"></div> <ul class="sidebar-links"><li><a href="/study-line/" class="sidebar-link"><i class="iconfont icon-info"></i>学习路线</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">My Project</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Interview</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-code"></i> <span class="title">java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Golang</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Database</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Spring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Mybatis</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">DataStructure</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">ElasticSearch</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable open"><!----> <span class="title">Docker</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docker/Docker-Note/" aria-current="page" class="active sidebar-link">Docker学习笔记</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#参考" class="sidebar-link">参考</a></li><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#介绍" class="sidebar-link">介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#用途" class="sidebar-link heading3">用途</a></li><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#组成" class="sidebar-link heading3">组成</a></li><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#底层原理" class="sidebar-link heading3">底层原理</a></li></ul></li><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#安装" class="sidebar-link">安装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#docker可视化界面" class="sidebar-link heading3">docker可视化界面</a></li></ul></li><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#docker镜像容器原理" class="sidebar-link">docker镜像容器原理</a></li><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#常用命令" class="sidebar-link">常用命令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#镜像-images" class="sidebar-link heading3">镜像(images)</a></li><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#容器-container" class="sidebar-link heading3">容器(container)</a></li><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#其他" class="sidebar-link heading3">其他</a></li></ul></li><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#日志-元数据-文件传输" class="sidebar-link">日志 | 元数据 | 文件传输</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#日志" class="sidebar-link heading3">日志</a></li><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#元数据" class="sidebar-link heading3">元数据</a></li><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#文件传输" class="sidebar-link heading3">文件传输</a></li></ul></li><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#容器数据卷-目录挂载" class="sidebar-link">容器数据卷/目录挂载</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#目录挂载" class="sidebar-link heading3">目录挂载</a></li><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#具名和匿名挂载" class="sidebar-link heading3">具名和匿名挂载</a></li><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#容器挂载目录权限" class="sidebar-link heading3">容器挂载目录权限</a></li><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#数据卷容器共享" class="sidebar-link heading3">数据卷容器共享</a></li></ul></li><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#制作镜像" class="sidebar-link">制作镜像</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#使用commit命令" class="sidebar-link heading3">使用commit命令</a></li></ul></li><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#dockerfile-制作镜像" class="sidebar-link">Dockerfile-制作镜像</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#命令" class="sidebar-link heading3">命令</a></li><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#示例-创建自己的centos镜像" class="sidebar-link heading3">示例：创建自己的centos镜像</a></li></ul></li><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#docker-compose" class="sidebar-link">docker-compose</a></li><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#docker网络" class="sidebar-link">docker网络</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#定义" class="sidebar-link heading3">定义</a></li><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#host" class="sidebar-link heading3">Host</a></li><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#container" class="sidebar-link heading3">Container</a></li><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#none" class="sidebar-link heading3">None</a></li><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#bridge-默认" class="sidebar-link heading3">Bridge(默认)</a></li><li class="sidebar-sub-header"><a href="/docker/Docker-Note/#自定义网络" class="sidebar-link heading3">自定义网络</a></li></ul></li></ul></li><li><a href="/docker/Docker-deployment/" class="sidebar-link">Docker deployment</a></li><li><a href="/docker/Docker-Install-software/" class="sidebar-link">Docker:Install software</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Nginx</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">MessageQueue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Computer Knowledge</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">ErrorNote</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Frontend</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/about/" class="sidebar-link"><i class="iconfont icon-info"></i>About</a></li></ul> <!----> <div class="content__sidebar-bottom"></div> <!----></aside> <main class="page"><nav class="breadcrumb disable"><!----></nav> <!----> <div class="content__page-top"></div> <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">Docker学习笔记</span></h1> <div class="page-info"><!----> <span aria-label="Author🖊" data-balloon-pos="down"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon author-icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z" fill="currentColor"></path></svg> <span property="author">Draco</span></span><span aria-label="Page views🔢" data-balloon-pos="down" class="visitor-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon eye-icon"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 0 0-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z" fill="currentColor"></path></svg> <span id="/docker/Docker-Note/" data-flag-title="Docker学习笔记" class="leancloud_visitors"><span class="leancloud-visitors-count">...</span></span></span><span aria-label="Writing Date📅" data-balloon-pos="down" class="time-info"><svg viewBox="0 0 1030 1024" xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H180.6A134.314 134.314 0 0 0 46.66 277.595v535.756A134.314 134.314 0 0 0 180.6 947.289h669.74a134.36 134.36 0 0 0 133.94-133.938V277.595a134.314 134.314 0 0 0-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 0 1-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 0 1-33.472 33.473z" fill="currentColor"></path></svg> <span property="datePublished">2021-01-28 23:33:05</span></span><!----><span aria-label="Tags🏷" data-balloon-pos="down"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon tag-icon"><path d="M939.902 458.563 910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 0 0 0 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z" fill="currentColor"></path></svg> <ul class="tags-wrapper"><li class="tag clickable tag0"><span role="navigation">Docker</span></li></ul> <meta property="keywords" content="Docker"></span><span aria-label="Reading Time⌛" data-balloon-pos="down" class="reading-time-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon timer-icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z" fill="currentColor"></path></svg> <span>About 22 min</span> <meta property="timeRequired" content="PT22M"></span></div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/docker/Docker-Note/#参考" class="anchor-link heading2"><div>参考</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#介绍" class="anchor-link heading2"><div>介绍</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#用途" class="anchor-link heading3"><div>用途</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#组成" class="anchor-link heading3"><div>组成</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#底层原理" class="anchor-link heading3"><div>底层原理</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#安装" class="anchor-link heading2"><div>安装</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#docker可视化界面" class="anchor-link heading3"><div>docker可视化界面</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#docker镜像容器原理" class="anchor-link heading2"><div>docker镜像容器原理</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#常用命令" class="anchor-link heading2"><div>常用命令</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#镜像-images" class="anchor-link heading3"><div>镜像(images)</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#容器-container" class="anchor-link heading3"><div>容器(container)</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#其他" class="anchor-link heading3"><div>其他</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#日志-元数据-文件传输" class="anchor-link heading2"><div>日志 | 元数据 | 文件传输</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#日志" class="anchor-link heading3"><div>日志</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#元数据" class="anchor-link heading3"><div>元数据</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#文件传输" class="anchor-link heading3"><div>文件传输</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#容器数据卷-目录挂载" class="anchor-link heading2"><div>容器数据卷/目录挂载</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#目录挂载" class="anchor-link heading3"><div>目录挂载</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#具名和匿名挂载" class="anchor-link heading3"><div>具名和匿名挂载</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#容器挂载目录权限" class="anchor-link heading3"><div>容器挂载目录权限</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#数据卷容器共享" class="anchor-link heading3"><div>数据卷容器共享</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#制作镜像" class="anchor-link heading2"><div>制作镜像</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#使用commit命令" class="anchor-link heading3"><div>使用commit命令</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#dockerfile-制作镜像" class="anchor-link heading2"><div>Dockerfile-制作镜像</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#命令" class="anchor-link heading3"><div>命令</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#示例-创建自己的centos镜像" class="anchor-link heading3"><div>示例：创建自己的centos镜像</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#docker-compose" class="anchor-link heading2"><div>docker-compose</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#docker网络" class="anchor-link heading2"><div>docker网络</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#定义" class="anchor-link heading3"><div>定义</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#host" class="anchor-link heading3"><div>Host</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#container" class="anchor-link heading3"><div>Container</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#none" class="anchor-link heading3"><div>None</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#bridge-默认" class="anchor-link heading3"><div>Bridge(默认)</div></a></li><li class="anchor"><a href="/docker/Docker-Note/#自定义网络" class="anchor-link heading3"><div>自定义网络</div></a></li></ul></div></aside></div> <!----> <div class="content__content-top"></div> <div class="theme-default-content content__default"><h2 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h2> <p>参考</p> <div class="custom-block tip"><p class="custom-block-title">参考</p> <ul><li><a href="http://www.ruanyifeng.com/blog/2018/02/docker-tutorial.html" target="_blank" rel="noopener noreferrer">阮一峰Docker 入门教程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>https://www.bilibili.com/read/cv6041687/</li> <li><a href="https://www.runoob.com/docker/docker-tutorial.html" target="_blank" rel="noopener noreferrer">菜鸟教程 | Docker 教程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <p>官方</p> <div class="custom-block tip"><p class="custom-block-title">官方</p> <ul><li><a href="https://docs.docker.com/" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://hub.docker.com/" target="_blank" rel="noopener noreferrer">仓库地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <h2 id="介绍"><a href="#介绍" class="header-anchor">#</a> 介绍</h2> <p>Docker 是一个开源的应用容器引擎，基于 Go 语言开发。Docker 可以让开发者打包他们的应用以及依赖包到一个轻 量级、可移植的容器中，然后发布到任何流行的 Linux 机器上，也可以实现虚拟化。容器是完全使用沙箱机制，相互 之间不会有任何接口（类似 iPhone 的 app）,更重要的是容器性能开销极低。</p> <p>**Docker 属于 Linux 容器的一种封装，提供简单易用的容器使用接口。**它是目前最流行的 Linux 容器解决方案。</p> <p>Docker 将应用程序与该程序的依赖，打包在一个文件里面。运行这个文件，就会生成一个虚拟容器。程序在这个虚拟容器里运行，就好像在真实的物理机上运行一样。有了 Docker，就不用担心环境问题。</p> <p>总体来说，Docker 的接口相当简单，用户可以方便地创建和使用容器，把自己的应用放入容器。容器还可以进行版本管理、复制、分享、修改，就像管理普通的代码一样。</p> <h3 id="用途"><a href="#用途" class="header-anchor">#</a> 用途</h3> <p>Docker 的主要用途，目前有三大类。</p> <div class="custom-block info"><p class="custom-block-title">用途</p> <ul><li><strong>提供一次性的环境</strong>。比如，本地测试他人的软件、持续集成的时候提供单元测试和构建的环境。</li> <li><strong>提供弹性的云服务</strong>。因为 Docker 容器可以随开随关，很适合动态扩容和缩容。</li> <li><strong>组建微服务架构</strong>。通过多个容器，一台机器可以跑多个服务，因此在本机就可以模拟出微服务架构。</li> <li>Web 应用的自动化打包和发布</li> <li>自动化测试和持续集成、发布</li> <li>在服务型环境中部署和调整数据库或其他的后台应用</li></ul></div> <p>使用Docker可以实现开发人员的开发环境、测试人员的测试环境、运维人员的生产环境的一致性。</p> <p><img src="/assets/img/docker_usage.2cfd3c7f.jpg" alt="docker用途"></p> <h3 id="组成"><a href="#组成" class="header-anchor">#</a> 组成</h3> <p><img src="/assets/img/docker_composition1.86867a33.jpg" alt="docker组成1"></p> <p><img src="/assets/img/docker_composition2.f1f0f3e1.jpg" alt="docker组成2"></p> <h3 id="底层原理"><a href="#底层原理" class="header-anchor">#</a> 底层原理</h3> <h2 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h2> <div class="custom-block tip"><p class="custom-block-title">参考</p> <ul><li><a href="https://www.runoob.com/docker/centos-docker-install.html" target="_blank" rel="noopener noreferrer">CentOS Docker 安装<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://docs.docker.com/engine/install/centos/" target="_blank" rel="noopener noreferrer">Install Docker Engine on CentOS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.bilibili.com/video/BV1og4y1q7M4?p=6" target="_blank" rel="noopener noreferrer">视频狂神说<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <h3 id="docker可视化界面"><a href="#docker可视化界面" class="header-anchor">#</a> docker可视化界面</h3> <div class="custom-block tip"><p class="custom-block-title">参考</p> <ul><li>https://www.cnblogs.com/frankdeng/p/9686735.html</li></ul></div> <h2 id="docker镜像容器原理"><a href="#docker镜像容器原理" class="header-anchor">#</a> docker镜像容器原理</h2> <div class="custom-block tip"><p class="custom-block-title">参考</p> <ul><li>http://dockone.io/article/783</li> <li>https://zhuanlan.zhihu.com/p/93085215</li> <li>https://blog.51cto.com/liuleis/2070461</li></ul></div> <h2 id="常用命令"><a href="#常用命令" class="header-anchor">#</a> 常用命令</h2> <p>参考</p> <div class="custom-block tip"><p class="custom-block-title">参考</p> <ul><li><a href="https://docs.docker.com/engine/reference/run/" target="_blank" rel="noopener noreferrer">Docker官网文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>http://dockone.io/article/783</li> <li>https://www.bilibili.com/read/cv6041687/</li> <li>https://www.cnblogs.com/duanxz/p/7905233.html</li> <li>https://jishuin.proginn.com/p/763bfbd2a0a8</li></ul></div> <p><img src="/assets/img/docker_command.f32c0118.png" alt="docker常用命令"></p> <h3 id="镜像-images"><a href="#镜像-images" class="header-anchor">#</a> 镜像(images)</h3> <p><strong>查看镜像</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#查看所有本地主机上的镜像</span>
<span class="token function">docker</span> images

<span class="token comment">#帮助</span>
<span class="token punctuation">[</span>root@VM-151-171-centos ~<span class="token punctuation">]</span><span class="token comment"># docker images --help</span>

Usage:  <span class="token function">docker</span> images <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> <span class="token punctuation">[</span>REPOSITORY<span class="token punctuation">[</span>:TAG<span class="token punctuation">]</span><span class="token punctuation">]</span>

List images

Options:
  -a, --all             Show all images <span class="token punctuation">(</span>default hides intermediate images<span class="token punctuation">)</span>
      --digests         Show digests
  -f, --filter filter   Filter output based on conditions provided
      --format string   Pretty-print images using a Go template
      --no-trunc        Don't truncate output
  -q, --quiet           Only show numeric IDs
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><strong>搜索镜像</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#搜索mysql镜像</span>
<span class="token function">docker</span> search mysql

<span class="token punctuation">[</span>root@VM-151-171-centos ~<span class="token punctuation">]</span><span class="token comment"># docker search --help</span>

Usage:  <span class="token function">docker</span> search <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> <span class="token environment constant">TERM</span>

Search the Docker Hub <span class="token keyword">for</span> images

Options:
  -f, --filter filter   Filter output based on conditions provided
      --format string   Pretty-print search using a Go template
      --limit int       Max number of search results <span class="token punctuation">(</span>default <span class="token number">25</span><span class="token punctuation">)</span>
      --no-trunc        Don't truncate output


<span class="token comment">#搜索stars大于3000的镜像</span>
<span class="token punctuation">[</span>root@VM-151-171-centos ~<span class="token punctuation">]</span><span class="token comment"># docker search mysql --filter=STARS=3000</span>
NAME                DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED
mysql               MySQL is a widely used, open-source relation…   <span class="token number">10444</span>               <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>                
mariadb             MariaDB is a community-developed fork of MyS…   <span class="token number">3880</span>                <span class="token punctuation">[</span>OK<span class="token punctuation">]</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><strong>下载镜像</strong></p> <p><img src="/assets/img/docker_pull.0da3d8aa.png" alt="docker下载镜像"></p> <p><img src="/assets/img/docker_pull_2.54d4ccd6.png" alt="docker下载镜像"></p> <p>可以看到部分文件已经存在，无需重复下载</p> <p><strong>删除镜像</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#删除镜像，参数可以使镜像名也可以是镜像id</span>
<span class="token punctuation">[</span>root@VM-151-171-centos ~<span class="token punctuation">]</span><span class="token comment"># docker rmi --help</span>

Usage:  <span class="token function">docker</span> rmi <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> IMAGE <span class="token punctuation">[</span>IMAGE<span class="token punctuation">..</span>.<span class="token punctuation">]</span>

Remove one or <span class="token function">more</span> images

Options:
  -f, --force      Force removal of the image
      --no-prune   Do not delete untagged parents


<span class="token comment">#删除多个镜像</span>
<span class="token function">docker</span> rmi -f <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token comment">#删除全部镜像</span>
<span class="token function">docker</span> rmi -f <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> images -aq<span class="token variable">)</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="容器-container"><a href="#容器-container" class="header-anchor">#</a> 容器(container)</h3> <p>参考参考:<a href="https://www.bilibili.com/read/cv6041687/" target="_blank" rel="noopener noreferrer">https://www.bilibili.com/read/cv6041687/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="custom-block warning"><p class="custom-block-title">注意</p> <ul><li>start是启动已创建好的，run是运行一个全新的容器</li> <li><code>run</code>的时候<code>--rm</code>代表用完容器自动删除容器</li> <li><code>run</code>的时候<code>-P</code>大写的P是随机端口</li></ul></div> <h3 id="其他"><a href="#其他" class="header-anchor">#</a> 其他</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#查看各个容器状态（CPU等）</span>
<span class="token function">docker</span> stats
<span class="token comment">#查看指定容器</span>
<span class="token function">docker</span> stats <span class="token punctuation">[</span>容器<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="/assets/img/docker_stats.a123b081.jpg" alt="docker_stats"></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#7.在使⽤ -d 参数时，容器启动后会进⼊后台。此时想要进⼊容器，可以通过以下指令进⼊</span>
<span class="token function">docker</span> attach 容器名称/id <span class="token comment">#不推荐使⽤，因为退出时会导致容器的停⽌</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> -it 容器名称/id /bin/bash <span class="token comment">#在进⼊容器后可使⽤linux命令，退出使⽤exit</span>

<span class="token comment">#8.导出</span>
<span class="token function">docker</span> <span class="token builtin class-name">export</span> 容器名称/id <span class="token operator">&gt;</span> 名称.tar

<span class="token comment">#9.导⼊，可以使⽤ docker import 从容器快照⽂件中再导⼊为镜像，以下实例将快照⽂件指定</span>
路径的tar 导⼊到镜像 test/test:v1:
<span class="token function">cat</span> tar路径 <span class="token operator">|</span> <span class="token function">docker</span> <span class="token function">import</span> - test/test:v1
<span class="token comment">#也可以通过指定 URL 或者某个⽬录来导⼊</span>
<span class="token function">docker</span> <span class="token function">import</span> http://example.com/exampleimage.tgz example/imagerepo

<span class="token comment">#10.删除容器</span>
<span class="token function">docker</span> <span class="token function">rm</span> -f 容器名称/id

<span class="token comment">#11.启动&amp;停止docker</span>
<span class="token function">service</span> <span class="token function">docker</span> start<span class="token comment">#启动docker</span>
<span class="token function">service</span> <span class="token function">docker</span> stop<span class="token comment">#停止docker</span>
<span class="token function">service</span> <span class="token function">docker</span> restart<span class="token comment">#重启docker</span>

<span class="token comment">#12.开机自启动docker</span>
systemctl <span class="token builtin class-name">enable</span> <span class="token function">docker</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="日志-元数据-文件传输"><a href="#日志-元数据-文件传输" class="header-anchor">#</a> 日志 | 元数据 | 文件传输</h2> <h3 id="日志"><a href="#日志" class="header-anchor">#</a> 日志</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@VM-151-171-centos ~<span class="token punctuation">]</span><span class="token comment"># docker logs --help</span>

Usage:  <span class="token function">docker</span> logs <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> CONTAINER

Fetch the logs of a container

Options:
      --details        Show extra details provided to logs
  -f, --follow         Follow log output
      --since string   Show logs since timestamp <span class="token punctuation">(</span>e.g. <span class="token number">2013</span>-01-02T13:23:37<span class="token punctuation">)</span> or relative <span class="token punctuation">(</span>e.g. 42m <span class="token keyword">for</span> <span class="token number">42</span> minutes<span class="token punctuation">)</span>
      --tail string    Number of lines to show from the end of the logs <span class="token punctuation">(</span>default <span class="token string">&quot;all&quot;</span><span class="token punctuation">)</span>
  -t, --timestamps     Show timestamps
      --until string   Show logs before a timestamp <span class="token punctuation">(</span>e.g. <span class="token number">2013</span>-01-02T13:23:37<span class="token punctuation">)</span> or relative <span class="token punctuation">(</span>e.g. 42m <span class="token keyword">for</span> <span class="token number">42</span> minutes<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="元数据"><a href="#元数据" class="header-anchor">#</a> 元数据</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#查看关于容器的所有信息</span>
<span class="token function">docker</span> inspect <span class="token punctuation">[</span>容器id/名<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="文件传输"><a href="#文件传输" class="header-anchor">#</a> 文件传输</h3> <p>拷贝宿主机文件到容器</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#将主机文件拷贝到容器中</span>
<span class="token function">docker</span> <span class="token function">cp</span> <span class="token punctuation">[</span>主机文件<span class="token punctuation">]</span> <span class="token punctuation">[</span>容器<span class="token punctuation">]</span>:<span class="token punctuation">[</span>容器路径<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>拷贝容器中的文件到宿主机</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#将主机文件拷贝到容器中</span>
<span class="token function">docker</span> <span class="token function">cp</span> <span class="token punctuation">[</span>容器<span class="token punctuation">]</span>:<span class="token punctuation">[</span>容器文件<span class="token punctuation">]</span> <span class="token punctuation">[</span>主机路径<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="容器数据卷-目录挂载"><a href="#容器数据卷-目录挂载" class="header-anchor">#</a> 容器数据卷/目录挂载</h2> <div class="custom-block tip"><p class="custom-block-title">参考</p> <ul><li>https://www.cnblogs.com/ruanraun/p/dockervolumes.html</li> <li>https://www.cnblogs.com/ivictor/p/4834864.html</li> <li>https://www.cnblogs.com/loveyous/p/11372034.html</li></ul></div> <p>在容器中管理数据主要有两种方式：</p> <ul><li>数据卷(Volumes)</li> <li>挂载主机目录(Bind mounts)</li></ul> <p><img src="/assets/img/docker_volume.fe49344f.png" alt="docker数据挂载"></p> <div class="custom-block warning"><p class="custom-block-title">Note</p> <p>Docker中提供了两种挂载方式，<code>-v</code>和<code>-mount</code></p> <p>Docker新用户应该选择 --mount参数</p> <p>经验丰富的Docker使用者对-v或者--volume已经很熟悉了，但是推荐使用-mount参数。</p></div> <h3 id="目录挂载"><a href="#目录挂载" class="header-anchor">#</a> 目录挂载</h3> <p>持久化容器里面的数据到本地，通过<code>目录挂载</code>的方式</p> <p>可以在创建容器的时候，将宿主机的目录与容器内的目录进行映射，这样我们就可以通过修改宿主机某个目录的文件从而去影响容器，也就意味着挂载的目录<code>互相同步</code>。</p> <p>创建容器时添加<code>-v</code>参数，后边为<code>宿主机目录:容器目录</code>，例如： docker run -di -v /usr/local/test:/usr/local/test -- name=mycentos3 centos:7</p> <p>创建linux宿主机器要挂载的目录</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">mkdir</span> /usr/local/test
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>创建并启动容器mycentos3,并挂载linux中的/usr/local/test目录到容器的/usr/local/test；也就是在</p> <p>linux中的/usr/local/test中操作相当于对容器相应目录操作</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> run -di -v /usr/local/test:/usr/local/test --name<span class="token operator">=</span>mycentos3 centos:7
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在linux下创建文件</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">touch</span> /usr/local/test/def.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>进入容器</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> <span class="token builtin class-name">exec</span> -it mycentos3 /bin/bash 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在容器中查看目录中是否有对应文件def.txt</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>ll /usr/local/test 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>然后查看容器元数据中的挂载目录信息</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;Mounts&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;Type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bind&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Source&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/usr/local/docker/nginx/html&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Destination&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/data/html&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rw&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;RW&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Propagation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rprivate&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;Type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bind&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Source&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/usr/local/docker/nginx/img&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Destination&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/data/img&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rw&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;RW&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Propagation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rprivate&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;Type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bind&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Source&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/usr/local/docker/nginx/conf.d&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Destination&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/etc/nginx/conf.d&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rw&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;RW&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Propagation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rprivate&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="具名和匿名挂载"><a href="#具名和匿名挂载" class="header-anchor">#</a> 具名和匿名挂载</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 如何确实是具名/匿名挂载，还是指定路径挂载</span>
<span class="token comment">#匿名挂载</span>
-v 容器内路径

<span class="token comment">#具名挂载</span>
-v 卷名:容器内路径

<span class="token comment">#指定路径挂载</span>
-v /宿主机路径:容器内路径
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="容器挂载目录权限"><a href="#容器挂载目录权限" class="header-anchor">#</a> 容器挂载目录权限</h3> <p>在<code>容器内路径</code>后加<code>:ro</code>为可读，加<code>:rw</code>为可读可写</p> <div class="custom-block info"><p class="custom-block-title">Info</p> <ul><li><strong>ro</strong>:宿主机只能读取容器的数据卷内容不能修改</li> <li><strong>rw</strong>:默认，即可读可写</li></ul></div> <h3 id="数据卷容器共享"><a href="#数据卷容器共享" class="header-anchor">#</a> 数据卷容器共享</h3> <p>如我我们经常需要多个容器之间进行数据共享我们需要用到命令<code>--volumes-from</code></p> <p>具体示例</p> <ol><li>我们从仓库拉一个centos的容器镜像</li></ol> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>Copy$ <span class="token function">docker</span> pull centos
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>2）然后运行这个镜像并创建一个数据卷挂载到/mydata</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> run -it -v /mydata --name mycentos centos
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>再运行两个容器，在这两个容器中使用--volumes-from来挂载mycentos容器中的数据卷.</li></ol> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> run -it --volumes-from mycentos --name soncentos1 centos

$ <span class="token function">docker</span> run -it --volumes-from mycentos --name soncentos2 centos
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>此时，容器soncentos1和soncentos2都挂载同一个数据卷到相的/mydata目录。三个容器任何一方在该目录下的写入数据，其他容器都可以看到。</p> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>可以多次使用<code>--volumes-**from**</code>参数来从多个容器挂载多个数据卷。还可以从其他已经挂载了容器卷的容器来挂载数据卷。 使用--volumes-<strong>from</strong>参数所挂载数据卷的容器自身并不需要保持在运行状态。</p> <p>如果删除了挂载的容器（包括dbdata、db1和db2），数据卷并不会被自动删除。如果要删除一个数据卷，必须在删除最后一个还挂载着它 的容器时显式使用docker rm -v命令来指定同时删除关联的容器。</p></div> <h2 id="制作镜像"><a href="#制作镜像" class="header-anchor">#</a> 制作镜像</h2> <h3 id="使用commit命令"><a href="#使用commit命令" class="header-anchor">#</a> 使用commit命令</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 提交某个容器为镜像</span>
<span class="token function">docker</span> commit <span class="token punctuation">[</span>容器<span class="token punctuation">]</span>

<span class="token punctuation">[</span>root@izuf6f489inattnq5zpfcxz ~<span class="token punctuation">]</span><span class="token comment"># docker commit --help</span>

Usage:  <span class="token function">docker</span> commit <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> CONTAINER <span class="token punctuation">[</span>REPOSITORY<span class="token punctuation">[</span>:TAG<span class="token punctuation">]</span><span class="token punctuation">]</span>

Create a new image from a container's changes

Options:
  -a, --author string    Author <span class="token punctuation">(</span>e.g., <span class="token string">&quot;John Hannibal Smith &lt;hannibal@a-team.com&gt;&quot;</span><span class="token punctuation">)</span>
  -c, --change list      Apply Dockerfile instruction to the created image
  -m, --message string   Commit message
  -p, --pause            Pause container during commit <span class="token punctuation">(</span>default <span class="token boolean">true</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="dockerfile-制作镜像"><a href="#dockerfile-制作镜像" class="header-anchor">#</a> Dockerfile-制作镜像</h2> <p>::: tips 参考</p> <ul><li><a href="https://docs.docker.com/engine/reference/builder/#dockerfile-examples" target="_blank" rel="noopener noreferrer">Dockerfile reference<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.runoob.com/docker/docker-dockerfile.html" target="_blank" rel="noopener noreferrer">菜鸟教程 | Dockerfile<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>:::</p> <h3 id="命令"><a href="#命令" class="header-anchor">#</a> 命令</h3> <p><img src="/assets/img/dockerfile_command.17085a0f.png" alt="dockerfile命令1"></p> <p><img src="/assets/img/dockerfile_command2.8ac5f42d.png" alt="dockerfile命令2"></p> <p><code>CMD</code>&amp;<code>ENTRYPOINT</code>的区别</p> <div class="custom-block warning"><p class="custom-block-title">CMD&amp;ENTRYPOINT的区别</p> <ul><li>CMD：指定这个容器启动的时候要运行的命令，只有最后一个会生效，可被替代</li> <li>ENTRYPOINT：指定这个容器启动的时候要运行的命令，可以追加命令</li></ul></div> <p>举例通过构建两个不同的dockerfile</p> <p><code>dockerfile-cmd</code></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 构建镜像为centos-cmd</span>
FROM centos
CMD <span class="token punctuation">[</span><span class="token string">&quot;ls&quot;</span>, <span class="token string">&quot;-a&quot;</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>dockerfile-entrypoint</code></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 构建镜像为centos-entrypoint</span>
FROM centos
ENTRYPOINT <span class="token punctuation">[</span><span class="token string">&quot;ls&quot;</span>, <span class="token string">&quot;-a&quot;</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>构建镜像再运行</p> <p><code>centos-cmd</code></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>
<span class="token punctuation">[</span>root@izuf6f489inattnq5zpfcxz ~<span class="token punctuation">]</span><span class="token comment"># docker run centos-cmd</span>
<span class="token builtin class-name">.</span>
<span class="token punctuation">..</span>
.dockerenv
bin
dev
etc
home
lib
lib64
lost+found
media
mnt
opt
proc
root
run
sbin
srv
sys
tmp
usr
var
<span class="token punctuation">[</span>root@izuf6f489inattnq5zpfcxz ~<span class="token punctuation">]</span><span class="token comment">#</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p><code>centos-entrypoint</code></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@izuf6f489inattnq5zpfcxz ~<span class="token punctuation">]</span><span class="token comment"># docker run centos-entrypoint</span>
<span class="token builtin class-name">.</span>
<span class="token punctuation">..</span>
.dockerenv
bin
dev
etc
home
lib
lib64
lost+found
media
mnt
opt
proc
root
run
sbin
srv
sys
tmp
usr
var
<span class="token punctuation">[</span>root@izuf6f489inattnq5zpfcxz ~<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>此时我们在<code>run</code>时追加命令，由于<code>cmd</code>是替换所以会报错，而<code>entrypoint</code>则不会</p> <p><code>centos-cmd</code></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@izuf6f489inattnq5zpfcxz ~<span class="token punctuation">]</span><span class="token comment"># docker run centos-cmd -l</span>
docker: Error response from daemon: OCI runtime create failed: container_linux.go:349: starting container process caused <span class="token string">&quot;exec: <span class="token entity" title="\&quot;">\&quot;</span>-l<span class="token entity" title="\&quot;">\&quot;</span>: executable file not found in <span class="token environment constant">$PATH</span>&quot;</span><span class="token builtin class-name">:</span> unknown.
<span class="token punctuation">[</span>root@izuf6f489inattnq5zpfcxz ~<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>centos-entrypoint</code></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>
<span class="token punctuation">[</span>root@izuf6f489inattnq5zpfcxz ~<span class="token punctuation">]</span><span class="token comment"># docker run centos-entrypoint -l</span>
total <span class="token number">56</span>
drwxr-xr-x   <span class="token number">1</span> root root <span class="token number">4096</span> Feb  <span class="token number">8</span> <span class="token number">16</span>:19 <span class="token builtin class-name">.</span>
drwxr-xr-x   <span class="token number">1</span> root root <span class="token number">4096</span> Feb  <span class="token number">8</span> <span class="token number">16</span>:19 <span class="token punctuation">..</span>
-rwxr-xr-x   <span class="token number">1</span> root root    <span class="token number">0</span> Feb  <span class="token number">8</span> <span class="token number">16</span>:19 .dockerenv
lrwxrwxrwx   <span class="token number">1</span> root root    <span class="token number">7</span> Nov  <span class="token number">3</span> <span class="token number">15</span>:22 bin -<span class="token operator">&gt;</span> usr/bin
drwxr-xr-x   <span class="token number">5</span> root root  <span class="token number">340</span> Feb  <span class="token number">8</span> <span class="token number">16</span>:19 dev
drwxr-xr-x   <span class="token number">1</span> root root <span class="token number">4096</span> Feb  <span class="token number">8</span> <span class="token number">16</span>:19 etc
drwxr-xr-x   <span class="token number">2</span> root root <span class="token number">4096</span> Nov  <span class="token number">3</span> <span class="token number">15</span>:22 home
lrwxrwxrwx   <span class="token number">1</span> root root    <span class="token number">7</span> Nov  <span class="token number">3</span> <span class="token number">15</span>:22 lib -<span class="token operator">&gt;</span> usr/lib
lrwxrwxrwx   <span class="token number">1</span> root root    <span class="token number">9</span> Nov  <span class="token number">3</span> <span class="token number">15</span>:22 lib64 -<span class="token operator">&gt;</span> usr/lib64
drwx------   <span class="token number">2</span> root root <span class="token number">4096</span> Dec  <span class="token number">4</span> <span class="token number">17</span>:37 lost+found
drwxr-xr-x   <span class="token number">2</span> root root <span class="token number">4096</span> Nov  <span class="token number">3</span> <span class="token number">15</span>:22 media
drwxr-xr-x   <span class="token number">2</span> root root <span class="token number">4096</span> Nov  <span class="token number">3</span> <span class="token number">15</span>:22 mnt
drwxr-xr-x   <span class="token number">2</span> root root <span class="token number">4096</span> Nov  <span class="token number">3</span> <span class="token number">15</span>:22 opt
dr-xr-xr-x <span class="token number">151</span> root root    <span class="token number">0</span> Feb  <span class="token number">8</span> <span class="token number">16</span>:19 proc
dr-xr-x---   <span class="token number">2</span> root root <span class="token number">4096</span> Dec  <span class="token number">4</span> <span class="token number">17</span>:37 root
drwxr-xr-x  <span class="token number">11</span> root root <span class="token number">4096</span> Dec  <span class="token number">4</span> <span class="token number">17</span>:37 run
lrwxrwxrwx   <span class="token number">1</span> root root    <span class="token number">8</span> Nov  <span class="token number">3</span> <span class="token number">15</span>:22 sbin -<span class="token operator">&gt;</span> usr/sbin
drwxr-xr-x   <span class="token number">2</span> root root <span class="token number">4096</span> Nov  <span class="token number">3</span> <span class="token number">15</span>:22 srv
dr-xr-xr-x  <span class="token number">13</span> root root    <span class="token number">0</span> Feb  <span class="token number">8</span> <span class="token number">16</span>:19 sys
drwxrwxrwt   <span class="token number">7</span> root root <span class="token number">4096</span> Dec  <span class="token number">4</span> <span class="token number">17</span>:37 tmp
drwxr-xr-x  <span class="token number">12</span> root root <span class="token number">4096</span> Dec  <span class="token number">4</span> <span class="token number">17</span>:37 usr
drwxr-xr-x  <span class="token number">20</span> root root <span class="token number">4096</span> Dec  <span class="token number">4</span> <span class="token number">17</span>:37 var
<span class="token punctuation">[</span>root@izuf6f489inattnq5zpfcxz ~<span class="token punctuation">]</span><span class="token comment">#</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>可以看到此时<code>-l</code>命令被追加到<code>ls -a</code>中，最后执行了<code>ls -a -l</code></p> <p>其他</p> <div class="custom-block info"><p class="custom-block-title">Info</p> <ul><li>每个保留关键字都是大写字母</li> <li>执行顺序从上到下</li> <li>#表示注释</li> <li>每一个指令都会创建提交一个<code>新的镜像层</code>，并提交</li></ul></div> <h3 id="示例-创建自己的centos镜像"><a href="#示例-创建自己的centos镜像" class="header-anchor">#</a> 示例：创建自己的centos镜像</h3> <p>编写<code>dockerfile</code>文件</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>FROM centos
MAINTAINER Chen Long

ENV MYPATH /usr/local
WORKDIR <span class="token variable">$MYPATH</span>

RUN yum -y <span class="token function">install</span> <span class="token function">vim</span>
RUN yum -y <span class="token function">install</span> tree
RUN yum -y <span class="token function">install</span> net-tools

EXPOSE <span class="token number">80</span>

CMD <span class="token builtin class-name">echo</span> <span class="token variable">$MYPATH</span>
CMD <span class="token builtin class-name">echo</span> <span class="token string">&quot;---END---&quot;</span>
CMD /bin/bash
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>执行build命令</p> <div class="language-.shell line-numbers-mode"><pre class="language-text"><code>docker build -f [dockerfile文件] -t [镜像名] .
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>构建完毕</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>Successfully built 0532ada899d9
Successfully tagged mycentos:1.0.0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>查看镜像</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@izuf6f489inattnq5zpfcxz mydockerfile<span class="token punctuation">]</span><span class="token comment"># docker images</span>
REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE
mycentos              <span class="token number">1.0</span>.0               0532ada899d9        <span class="token number">3</span> minutes ago       314MB
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>查看镜像构建历史</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> <span class="token function">history</span> <span class="token punctuation">[</span>镜像<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/assets/img/docker_history.3fdb1e27.jpg" alt="docker_history"></p> <p>重命名镜像/打标签</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> tag <span class="token punctuation">[</span>镜像<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="docker-compose"><a href="#docker-compose" class="header-anchor">#</a> docker-compose</h2> <h2 id="docker网络"><a href="#docker网络" class="header-anchor">#</a> docker网络</h2> <p>::: tips 参考</p> <ul><li>https://blog.csdn.net/meltsnow/article/details/94490994</li> <li>https://blog.51cto.com/ganbing/2087598</li> <li><a href="https://www.jianshu.com/p/22a7032bb7bd" target="_blank" rel="noopener noreferrer">Docker四种网络模式<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>:::</p> <h3 id="定义"><a href="#定义" class="header-anchor">#</a> 定义</h3> <p>安装Docker时，它会自动创建三个网络:</p> <ul><li>bridge（创建容器默认连接到此网络）</li> <li>none</li> <li>host</li></ul> <table><thead><tr><th>网络模式</th> <th>简介</th></tr></thead> <tbody><tr><td>Host</td> <td>容器将不会虚拟出自己的网卡，配置自己的IP等，而是使用宿主机的IP和端口。</td></tr> <tr><td>Bridge</td> <td>此模式会为每一个容器分配、设置IP等，并将容器连接到一个docker0虚拟网桥，通过docker0网桥以及Iptables nat表配置与宿主机通信。</td></tr> <tr><td>None</td> <td>该模式关闭了容器的网络功能。</td></tr> <tr><td>Container</td> <td>创建的容器不会创建自己的网卡，配置自己的IP，而是和一个指定的容器共享IP、端口范围。</td></tr> <tr><td>自定义网络</td> <td>略</td></tr></tbody></table> <p>使用<code>docker network ls</code>查看</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@izuf6f489inattnq5zpfcxz ~<span class="token punctuation">]</span><span class="token comment"># docker network ls</span>
NETWORK ID          NAME                DRIVER              SCOPE
cdd42cba5f27        bridge              bridge              <span class="token builtin class-name">local</span>
83b40108e61e        <span class="token function">host</span>                <span class="token function">host</span>                <span class="token builtin class-name">local</span>
9b24385c4387        nginx_default       bridge              <span class="token builtin class-name">local</span>
a801bf66725a        none                null                <span class="token builtin class-name">local</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>nginx为自己安装的</p></blockquote> <p><strong>Docker内置这三个网络，运行容器时，你可以使用该–network标志来指定容器应连接到哪些网络。</strong></p> <p><strong>该bridge网络代表docker0所有Docker安装中存在的网络。除非你使用该docker run --network=选项指定，否则Docker守护程序默认将容器连接到此网络。</strong></p> <div class="language-shell line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-shell"><code><span class="token punctuation">[</span>root@izuf6f489inattnq5zpfcxz ~<span class="token punctuation">]</span><span class="token comment"># ip a</span>
<span class="token number">1</span>: lo: <span class="token operator">&lt;</span>LOOPBACK,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">65536</span> qdisc noqueue state UNKNOWN qlen <span class="token number">1</span>
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet <span class="token number">127.0</span>.0.1/8 scope <span class="token function">host</span> lo
       valid_lft forever preferred_lft forever
<span class="token number">2</span>: eth0: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc pfifo_fast state UP qlen <span class="token number">1000</span>
    link/ether 00:16:3e:10:a3:c3 brd ff:ff:ff:ff:ff:ff
    inet <span class="token number">172.17</span>.3.46/18 brd <span class="token number">172.17</span>.63.255 scope global eth0
       valid_lft forever preferred_lft forever
<span class="token number">3</span>: docker0: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc noqueue state UP
    link/ether 02:42:22:ac:5e:95 brd ff:ff:ff:ff:ff:ff
    inet <span class="token number">172.18</span>.0.1/16 brd <span class="token number">172.18</span>.255.255 scope global docker0
       valid_lft forever preferred_lft forever
<span class="token number">4</span>: br-9b24385c4387: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc noqueue state UP
    link/ether 02:42:ba:48:bd:cc brd ff:ff:ff:ff:ff:ff
    inet <span class="token number">172.23</span>.0.1/16 brd <span class="token number">172.23</span>.255.255 scope global br-9b24385c4387
       valid_lft forever preferred_lft forever
<span class="token number">6</span>: veth76d3b86@if5: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc noqueue master br-9b24385c4387 state UP
    link/ether <span class="token number">76</span>:09:c0:f5:c0:de brd ff:ff:ff:ff:ff:ff link-netnsid <span class="token number">0</span>
<span class="token number">10</span>: veth4a169f6@if9: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc noqueue master docker0 state UP
    link/ether <span class="token number">56</span>:2a:84:6f:4a:03 brd ff:ff:ff:ff:ff:ff link-netnsid <span class="token number">2</span>
<span class="token number">12</span>: veth46c9f96@if11: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc noqueue master docker0 state UP
    link/ether 0e:7e:8a:1d:d4:c7 brd ff:ff:ff:ff:ff:ff link-netnsid <span class="token number">3</span>
<span class="token number">14</span>: veth6a04666@if13: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc noqueue master docker0 state UP
    link/ether <span class="token number">72</span>:6a:3a:3c:17:83 brd ff:ff:ff:ff:ff:ff link-netnsid <span class="token number">4</span>
<span class="token number">16</span>: vethb692a64@if15: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc noqueue master docker0 state UP
    link/ether 6e:82:0e:c2:09:fd brd ff:ff:ff:ff:ff:ff link-netnsid <span class="token number">5</span>
<span class="token number">18</span>: veth976aa59@if17: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc noqueue master docker0 state UP
    link/ether <span class="token number">82</span>:61:29:70:0b:11 brd ff:ff:ff:ff:ff:ff link-netnsid <span class="token number">6</span>
<span class="token number">22</span>: vethdc31829@if21: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc noqueue master docker0 state UP
    link/ether <span class="token number">72</span>:5a:78:af:70:c8 brd ff:ff:ff:ff:ff:ff link-netnsid <span class="token number">1</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p><strong>我们在使用docker run创建Docker容器时，可以用 --net 选项指定容器的网络模式，Docker可以有以下4种网络模式：</strong></p> <div class="custom-block info"><p class="custom-block-title">四种网络模式</p> <ul><li><strong>host</strong>：使用 --net=host 指定。</li> <li><strong>none</strong>：使用 --net=none 指定。</li> <li><strong>bridge</strong>：使用 --net=bridge 指定，默认设置。</li> <li><strong>container</strong>：使用 --net=container:NAME_or_ID 指定。</li></ul></div> <h3 id="host"><a href="#host" class="header-anchor">#</a> Host</h3> <p>相当于Vmware中的<code>桥接模式</code>，与宿主机在同一个网络中，但没有独立IP地址。</p> <p>众所周知，Docker使用了Linux的<code>Namespaces</code>技术来进行资源隔离，如<code>PID Namespace</code>隔离进程，<code>Mount Namespace</code>隔离文件系统，<code>Network Namespace</code>隔离网络等。</p> <p>一个Network Namespace提供了一份独立的网络环境，包括网卡、路由、Iptable规则等都与其他的Network Namespace隔离。一个Docker容器一般会分配一个独立的Network Namespace。但如果启动容器的时候使用host模式，那么这个容器将不会获得一个独立的Network Namespace，而是和宿主机共用一个Network Namespace。容器将不会虚拟出自己的网卡，配置自己的IP等，而是使用宿主机的IP和端口。</p> <p><strong>例如，我们在172.25.6.1/24的机器上用host模式启动一个ubuntu容器</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@server1 ~<span class="token punctuation">]</span><span class="token comment"># docker run -it --network=host ubuntu</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>可以看到，容器的网络使用的时宿主机的网络，但是，容器的其他方面，如<code>文件系统</code>、<code>进程列表</code>等还是和宿主机隔离的。</p> <p><img src="/assets/img/docker_network_host.a2d5c034.png" alt="dockerfile命令1"></p> <h3 id="container"><a href="#container" class="header-anchor">#</a> Container</h3> <p>在理解了host模式后，这个模式也就好理解了。这个模式指定新创建的容器和已经存在的一个容器共享一个<code>Network Namespace</code>，而不是和宿主机共享。新创建的容器不会创建自己的网卡，配置自己的IP，而是和一个指定的容器共享IP、端口范围等。同样，两个容器除了网络方面，其他的如文件系统、进程列表等还是隔离的。两个容器的进程可以通过lo网卡设备通信。</p> <h3 id="none"><a href="#none" class="header-anchor">#</a> None</h3> <p>该模式将容器放置在它自己的网络栈中，但是并不进行任何配置。实际上，该模式关闭了容器的网络功能，在以下两种情况下是有用的：容器并不需要网络（例如只需要写磁盘卷的批处理任务）。</p> <div class="custom-block info"><p class="custom-block-title">overlay</p> <p><strong>在docker1.7代码进行了重构，单独把网络部分独立出来编写，所以在docker1.8新加入的一个overlay网络模式。Docker对于网络访问的控制也是在逐渐完善的。</strong></p></div> <h3 id="bridge-默认"><a href="#bridge-默认" class="header-anchor">#</a> Bridge(默认)</h3> <p>相当于Vmware中的<code>Nat模式</code>，容器使用独立<code>network Namespace</code>，并连接到<code>docker0</code>虚拟网卡（默认模式）。通过<code>docker0网桥</code>以及<code>Iptables nat表</code>配置与宿主机通信；</p> <p>bridge模式是<code>Docker默认的网络设置</code>，此模式会为每一个容器分配<code>Network Namespace</code>、设置IP等，并将一个主机上的Docker容器连接到一个虚拟网桥上。下面着重介绍一下此模式。</p> <p>当Docker server启动时，会在主机上创建一个名为<code>docker0的虚拟网桥</code>，此主机上启动的Docker容器会连接到这个虚拟网桥上。虚拟网桥的工作方式和物理交换机类似，这样主机上的所有容器就通过交换机连在了一个二层网络中。</p> <p>接下来就要为容器分配IP了，Docker会从RFC1918所定义的私有IP网段中，选择一个<code>和宿主机不同的IP地址和子网</code>分配给<code>docker0</code>，连接到docker0的容器就从这个子网中选择<code>一个未占用的IP</code>使用。如一般Docker会使用172.17.0.0/16这个网段，并将172.17.0.1/16分配给docker0网桥（在主机上使用ifconfig命令是可以看到docker0的，可以认为它是网桥的管理接口，在宿主机上作为一块虚拟网卡使用）。单机环境下的网络拓扑如下，主机地址为10.10.0.186/24。</p> <p><img src="/assets/img/docker_bridge.66c10089.png" alt="dockerfile命令1"></p> <h4 id="流程"><a href="#流程" class="header-anchor">#</a> 流程</h4> <p>Docker完成以上网络配置的过程大致是这样的：</p> <ol><li><p>在主机上创建一对虚拟网卡<code>veth pair</code>设备。veth设备总是<code>成对出现</code>的，它们组成了一个数据的通道，数据从一个设备进入，就会从另一个设备出来。因此，veth设备常用来连接两个网络设备。</p></li> <li><p>Docker将veth pair设备的一端放在新创建的容器中，并命名为<code>eth0</code>。另一端放在主机中，以veth65f9这样类似的名字命名，并将这个网络设备加入到docker0网桥中，可以通过brctl show命令查看。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>brctl show
bridge name     bridge <span class="token function">id</span>               STP enabled     interfaces
docker0         <span class="token number">8000</span>.02425f21c208       no
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>从<code>docker0子网</code>中分配一个IP给容器使用，并设置<code>docker0的IP地址</code>为容器的<code>默认网关</code>。</p> <p>运行容器：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> run --name<span class="token operator">=</span>nginx_bridge --net<span class="token operator">=</span>bridge -p <span class="token number">80</span>:80 -d nginx        
9582dbec7981085ab1f159edcc4bf35e2ee8d5a03984d214bce32a30eab4921a
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ol> <h4 id="容器的通信"><a href="#容器的通信" class="header-anchor">#</a> 容器的通信</h4> <p>在bridge模式下，连在同一网桥上的容器可以相互通信（若出于安全考虑，也可以禁止它们之间通信，方法是在<code>DOCKER_OPTS</code>变量中设置<code>–icc=false</code>，这样只有使用–link才能使两个容器通信）。</p> <p>Docker可以开启容器间通信（意味着默认配置–icc=true），也就是说，宿主机上的所有容器可以不受任何限制地相互通信，这可能导致拒绝服务攻击。进一步地，Docker可以通过–ip_forward和–iptables两个选项控制容器间、容器和外部世界的通信。</p> <p>容器也可以与外部通信，我们看一下主机上的<code>Iptable</code>规则，可以看到这么一条</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>-A POSTROUTING -s <span class="token number">172.17</span>.0.0/16 <span class="token operator">!</span> -o docker0 -j MASQUERADE
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这条规则会将源地址为172.17.0.0/16的包（也就是从Docker容器产生的包），并且不是从docker0网卡发出的，进行源地址转换，转换成主机网卡的地址。这么说可能不太好理解，举一个例子说明一下。假设主机有一块网卡为eth0，IP地址为10.10.101.105/24，网关为10.10.101.254。从主机上一个IP为172.17.0.1/16的容器中ping百度（180.76.3.151）。IP包首先从容器发往自己的默认网关docker0，包到达docker0后，也就到达了主机上。然后会查询主机的路由表，发现包应该从主机的eth0发往主机的网关10.10.105.254/24。接着包会转发给eth0，并从eth0发出去（主机的ip_forward转发应该已经打开）。这时候，上面的Iptable规则就会起作用，对包做SNAT转换，将源地址换为eth0的地址。这样，在外界看来，这个包就是从10.10.101.105上发出来的，Docker容器对外是不可见的。</p> <p>那么，外面的机器是如何访问Docker容器的服务呢？我们首先用下面命令创建一个含有web应用的容器，将容器的80端口映射到主机的80端口。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> run --name<span class="token operator">=</span>nginx_bridge --net<span class="token operator">=</span>bridge -p <span class="token number">80</span>:80 -d nginx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>此条规则就是对主机eth0收到的目的端口为80的tcp流量进行DNAT转换，将流量发往172.17.0.2:80，也就是我们上面创建的Docker容器。所以，外界只需访问10.10.101.105:80就可以访问到容器中的服务。</strong></p> <p><strong>除此之外，我们还可以自定义Docker使用的IP地址、DNS等信息，甚至使用自己定义的网桥，但是其工作方式还是一样的。</strong></p> <h3 id="自定义网络"><a href="#自定义网络" class="header-anchor">#</a> 自定义网络</h3> <p><strong>建议使用自定义的网桥来控制哪些容器可以相互通信，还可以自动DNS解析容器名称到IP地址。Docker提供了创建这些网络的默认网络驱动程序，你可以创建一个新的Bridge网络，Overlay或Macvlan网络。你还可以创建一个网络插件或远程网络进行完整的自定义和控制。</strong></p> <p><strong>你可以根据需要创建任意数量的网络，并且可以在任何给定时间将容器连接到这些网络中的零个或多个网络。此外，您可以连接并断开网络中的运行容器，而无需重新启动容器。当容器连接到多个网络时，其外部连接通过第一个非内部网络以词法顺序提供。</strong></p> <p>创建网络</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@izuf6f489inattnq5zpfcxz ~<span class="token punctuation">]</span><span class="token comment"># docker network create  --help</span>

Usage:  <span class="token function">docker</span> network create <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> NETWORK

Create a network

Options:
      --attachable           Enable manual container attachment
      --aux-address map      Auxiliary IPv4 or IPv6 addresses used by Network driver <span class="token punctuation">(</span>default map<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      --config-from string   The network from <span class="token function">which</span> copying the configuration
      --config-only          Create a configuration only network
  -d, --driver string        Driver to manage the Network <span class="token punctuation">(</span>default <span class="token string">&quot;bridge&quot;</span><span class="token punctuation">)</span>
      --gateway strings      IPv4 or IPv6 Gateway <span class="token keyword">for</span> the master subnet
      --ingress              Create swarm routing-mesh network
      --internal             Restrict external access to the network
      --ip-range strings     Allocate container <span class="token function">ip</span> from a sub-range
      --ipam-driver string   IP Address Management Driver <span class="token punctuation">(</span>default <span class="token string">&quot;default&quot;</span><span class="token punctuation">)</span>
      --ipam-opt map         Set IPAM driver specific options <span class="token punctuation">(</span>default map<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      --ipv6                 Enable IPv6 networking
      --label list           Set metadata on a network
  -o, --opt map              Set driver specific options <span class="token punctuation">(</span>default map<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      --scope string         Control the network's scope
      --subnet strings       Subnet <span class="token keyword">in</span> CIDR <span class="token function">format</span> that represents a network segment

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>示例</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> network create --driver bridge --subnet <span class="token number">192.168</span>.0.0/24 --gateway <span class="token number">192.168</span>.0.1 mynet
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="custom-block info"><p class="custom-block-title">示例</p> <ul><li>--driver bridge：驱动，默认为bridge</li> <li>--subnet 192.168.0.0/24：子网</li> <li>--gateway 192.168.0.1：网关</li></ul></div> <p>查看元数据</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@izuf6f489inattnq5zpfcxz ~<span class="token punctuation">]</span><span class="token comment"># docker inspect network mynet</span>
<span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;mynet&quot;</span>,
        <span class="token string">&quot;Id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;078e90effc3fef80d9596c14277c5e798dd753e0b5ab77fccb8c5b7b7eb18f40&quot;</span>,
        <span class="token string">&quot;Created&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2021-02-20T00:55:36.875138453+08:00&quot;</span>,
        <span class="token string">&quot;Scope&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;local&quot;</span>,
        <span class="token string">&quot;Driver&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;bridge&quot;</span>,
        <span class="token string">&quot;EnableIPv6&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;IPAM&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;Driver&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;default&quot;</span>,
            <span class="token string">&quot;Options&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>,
            <span class="token string">&quot;Config&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token string">&quot;Subnet&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;192.168.0.0/24&quot;</span>,
                    <span class="token string">&quot;Gateway&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;192.168.0.1&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;Internal&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;Attachable&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;Ingress&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;ConfigFrom&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;Network&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;ConfigOnly&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;Containers&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>,
        <span class="token string">&quot;Options&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>,
        <span class="token string">&quot;Labels&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>使用ping命令发现可以互通</p> <p>不同网络之间容器互通</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">docker</span> network connect <span class="token punctuation">[</span>网络<span class="token punctuation">]</span> <span class="token punctuation">[</span>容器<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>其他</p> <ul><li>在docker自定义网络部署redis集群(参考Redis部署与基本使用)</li></ul></div> <!----> <div class="content__content-bottom"></div> <footer class="page-meta"><div class="edit-link"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon edit-icon"><path d="M117.953 696.992 64.306 959.696l265.931-49.336 450.204-452.505-212.284-213.376-450.204 452.513zm496.384-296.326L219.039 797.993l-46.108-46.34L568.233 354.33l46.104 46.335zm345.357-122.99-114.45 115.04-212.288-213.377 114.45-115.035 212.288 213.371zm0 0" fill="currentColor"></path></svg> <a href="https://github.com/LifeAlsoIsGG/edit/main/docker/Docker-Note.md" target="_blank" rel="noopener noreferrer">Edit this page</a></div> <div class="meta-item update-time"><span class="label">Last update:</span> <span class="info">April 18, 2022 00:39</span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/elasticSearch/ElasticSearch-Interview/" class="prev"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon prev-icon"><path d="M906.783 588.79c-.02 8.499-6.882 15.36-15.38 15.37l-443.7-.01 75.704 191.682c2.52 6.42.482 13.763-5.038 17.91-5.52 4.168-13.138 4.147-18.616-.092L123.228 524.175a15.362 15.362 0 0 1-6-12.165c0-4.782 2.222-9.277 6-12.185L499.753 210.35a15.388 15.388 0 0 1 9.38-3.195c3.236 0 6.502 1.034 9.236 3.103 5.52 4.147 7.578 11.49 5.038 17.91L447.683 419.84l443.72-.01c8.498.01 15.36 6.881 15.36 15.36l.02 153.6z" fill="currentColor"></path></svg>
        ElasticSearch面试
      </a></span> <span class="next"><a href="/docker/Docker-deployment/">
        Docker deployment
        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon next-icon"><path d="M906.772 512c0 4.772-2.211 9.267-5.99 12.175L524.257 813.66a15.37 15.37 0 0 1-18.616.092 15.368 15.368 0 0 1-5.038-17.91l75.714-191.672h-443.73c-8.488 0-15.36-6.881-15.36-15.36v-153.6c0-8.489 6.872-15.36 15.36-15.36h443.73l-75.714-191.682a15.358 15.358 0 0 1 5.048-17.91c5.51-4.158 13.128-4.137 18.606.092l376.525 289.485a15.323 15.323 0 0 1 5.99 12.165z" fill="currentColor"></path></svg></a></span></p></div> <div class="comments-wrapper"><div class="waline-wrapper"><div id="waline-comment"></div></div></div> <!----> <div class="content__page-bottom"></div></main> <footer class="footer-wrapper"><div class="media-links-wrapper"><a href="https://github.com/LifeAlsoIsGG" rel="noopener noreferrer" target="_blank" aria-label="Github" data-balloon-pos="up" class="media-link"><span class="sr-only">Github</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-github"><circle cx="512" cy="512" r="512" fill="#171515"></circle> <path d="M509.423 146.442c-200.317 0-362.756 162.42-362.756 362.8 0 160.266 103.936 296.24 248.109 344.217 18.139 3.327 24.76-7.872 24.76-17.486 0-8.613-.313-31.427-.49-61.702-100.912 21.923-122.205-48.63-122.205-48.63-16.495-41.91-40.28-53.067-40.28-53.067-32.937-22.51 2.492-22.053 2.492-22.053 36.407 2.566 55.568 37.386 55.568 37.386 32.362 55.438 84.907 39.43 105.58 30.143 3.296-23.444 12.667-39.43 23.032-48.498-80.557-9.156-165.246-40.28-165.246-179.297 0-39.604 14.135-71.988 37.342-97.348-3.731-9.178-16.18-46.063 3.556-96.009 0 0 30.46-9.754 99.76 37.19 28.937-8.048 59.97-12.071 90.823-12.211 30.807.14 61.843 4.165 90.822 12.21 69.26-46.944 99.663-37.189 99.663-37.189 19.792 49.946 7.34 86.831 3.61 96.01 23.25 25.359 37.29 57.742 37.29 97.347 0 139.366-84.82 170.033-165.637 179.013 13.026 11.2 24.628 33.342 24.628 67.182 0 48.498-.445 87.627-.445 99.521 0 9.702 6.535 20.988 24.945 17.444 144.03-48.067 247.881-183.95 247.881-344.175 0-200.378-162.442-362.798-362.802-362.798z" fill="#FFF"></path></svg></a><a href="https://twitter.com/LifeAlsoIsGG" rel="noopener noreferrer" target="_blank" aria-label="Twitter" data-balloon-pos="up" class="media-link"><span class="sr-only">Twitter</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-twitter"><circle cx="512" cy="512" r="512" fill="#5EAADE"></circle> <path d="M749.737 364.631c-17.594 7.805-36.513 13.088-56.371 15.459 20.269-12.148 35.836-31.387 43.156-54.312A196.233 196.233 0 0 1 674.2 349.6c-17.894-19.083-43.406-30.997-71.636-30.997-54.2 0-98.137 43.944-98.137 98.157 0 7.695.861 15.19 2.544 22.373-81.57-4.092-153.876-43.174-202.284-102.558-8.443 14.498-13.285 31.356-13.285 49.348 0 34.05 17.326 64.096 43.656 81.697a97.69 97.69 0 0 1-44.447-12.277c-.01.41-.01.82-.01 1.24 0 47.558 33.822 87.23 78.72 96.249a98.285 98.285 0 0 1-25.852 3.448 97.491 97.491 0 0 1-18.465-1.768c12.483 39.002 48.725 67.38 91.672 68.17-33.582 26.334-75.897 42.024-121.884 42.024-7.924 0-15.736-.46-23.408-1.37 43.434 27.844 95.014 44.104 150.443 44.104 180.505 0 279.221-149.576 279.221-279.294 0-4.263-.09-8.494-.278-12.708 19.178-13.835 35.813-31.115 48.967-50.807z" fill="#FFF"></path></svg></a><a href="http://localhost:8083/blog-vuepress/tencent:/AddContact/?fromId=50&amp;fromSubId=1&amp;subcmd=all&amp;uin=1138312802.html" rel="noopener noreferrer" target="_blank" aria-label="QQ" data-balloon-pos="up" class="media-link"><span class="sr-only">QQ</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-qq"><circle cx="512" cy="512" r="512" fill="#5EAADE"></circle> <path d="M729.46 627.3c-3.157-39.628-24.045-83.747-32.624-105.91l-22.084-57.047c-.702-23.73 6.312-78.322-30.511-146.61s-110.82-74.446-124.497-75.147c-13.677-.701-99.248-1.403-141.331 72.945-42.084 74.347-30.745 148.812-30.745 148.812l-23.523 57.478c-.001.002-10.962 26.223-20.43 58.135-9.469 31.914-18.938 82.064-9.469 92.234 9.47 10.17 43.837-46.643 46.993-51.903 0 0 2.456 27.18 8.943 41.383l.81 1.776.33.723.38.826.3.652.444.96.203.436a281.465 281.465 0 0 0 1.917 4.025l.189.386c.231.473.468.953.711 1.442l.146.292c6.886 13.807 18.61 33.823 37.443 50.42l.018.016-1.184.387c-10.667 3.516-31.694 11.21-40.625 19.82-1.717 1.655-2.987 3.344-3.65 5.045-5.376 13.794 4.208 15.43 20.575 16.366 16.366.934 94.923 3.04 132.564-2.221.407-.056.787-.114 1.17-.171 2.711.094 5.324.142 7.83.16l.151.002c.836.005 1.663.008 2.475.008.496 0 1.015-.002 1.542-.006l.21-.001a222.593 222.593 0 0 0 5.462-.107c.26.038.508.076.778.114 37.642 5.26 116.198 3.156 132.564 2.22 16.366-.934 25.951-2.571 20.574-16.365-4.302-11.037-34.175-21.62-45.956-25.413a141.388 141.388 0 0 0 7.958-7.645l.237-.245a142.494 142.494 0 0 0 2.53-2.702c42.435-46.643 38.928-76.101 40.682-92.935 0 0 35.775 51.553 43.488 53.306 7.713 1.754 10.169-6.31 7.012-45.94z" fill="#FFF"></path></svg></a></div> <div class="footer">粤ICP备19126168号</div> <div class="copyright">Copyright © 2022 Draco</div></footer></div><div class="global-ui"><!----><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>Description</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        Install <span></span></button> <button class="cancel-button">
        Cancel
      </button></div></div></div></div><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button class="pswp__button pswp__button--close"></button> <button class="pswp__button pswp__button--share"></button> <button class="pswp__button pswp__button--fs"></button> <button class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button class="pswp__button pswp__button--arrow--left"></button> <button class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/assets/js/app.b2189200.js" defer></script><script src="/assets/js/vendors~layout-Layout.3a19796f.js" defer></script><script src="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.17f5562a.js" defer></script><script src="/assets/js/page-Docker学习笔记.bc1b1e64.js" defer></script><script src="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.30f611ca.js" defer></script>
  </body>
</html>
